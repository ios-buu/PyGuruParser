## 2019-04-15

* 如何知道两个API之间是先后版本关系？

除了swagger.yaml的所在目录以外，如果两个项目见有先后版本关系，该如何处理。

我的想法是，通过git，github中一定有master的push记录，而python可以控制git拉取到每次commit时的代码，在本地一步一步回退，然后记录有修改过的文件，记为一个版本，这样就能记录下不同版本，甚至同版本的修改趋势。

* 如果是不同文档的修改，比如azure.com这样的，可以识别路径，可是如果域名都替换了，应该找什么办法替换？

看了一下已有数据，可以用关键的字段组合判断是否为同一文档

#### 关于上面的数据统计完成情况

趋势方面的统计，有些复杂，需要后面整理后再做，其余数据统计除了版本统计、约束数量、数据层数外其余的所有统计都已完成。

趋势的计划如下

#### 元数据
##### `不同版本的文档中：x是不同间隔下的api（这里只统计至少有两个版本及以上的api文档）`

* URI层数 y->uri总数（散点图）

* API资源数量 y->资源总数（散点图）

* API端点数量  y->端点总数（散点图）

* 谓词数量 y->各个谓词的总数及占比（散点图*2）

* Response数据层数 y->每层的总数及占比（散点图*2）

* 请求约束数量 y->每档约束数量的总数及占比（散点图*2）

* Request参数数量 y->没档参数数量的总数及占比（散点图*2）

* 不同位置的参数数量 y->不同位置的参数数量及占比（散点图*2）


### 趋势（未来预测）
##### `不同版本的文档中：x是不同间隔下的api（这里只统计至少有两个版本及以上的api文档）`

* URI层数 y->uri总数（散点图）

* API资源数量 y->资源总数（散点图）

* API端点数量  y->端点总数（散点图）

* 谓词数量 y->各个谓词的总数及占比（散点图*2）

* Response数据层数 y->每层的总数及占比（散点图*2）

* 请求约束数量 y->每档约束数量的总数及占比（散点图*2）

* Request参数数量 y->没档参数数量的总数及占比（散点图*2）

* 不同位置的参数数量 y->不同位置的参数数量及占比（散点图*2）

之前两条线：

* 演化的数据分析 -> 预测API以后的发展 -> 评估标准
* 不同版本下，api资源的关联关系 -> 资源模型 -> 设计规范

目前第一条已经基本完成主要工作，目前还缺少不同版本下的api数据及其图表展示部分

第二条是在第一条的基础上进行的工作，目前的想法是根据资源的关联关系，使用元数据的字段以及数据添加时的字段进行匹配，不过这个依赖相关的设计以及文档编写时的严谨逻辑。

不过，目前数据库里有10万条请求数据，有些多。。。